{% extends 'base.html' %}

{% block content %}
Hello, {{user.username|default:'Guest'}}!

<div>
    {% if user.is_authenticated %}
	<a href="{% url 'profile' username=user.username %}">View Profile</a>
    {% else %}
        <a href="{% url 'login' %}">Login</a>
    {% endif %}
</div>

<div>
	<div id = "user-list">
	Choose a user to chat with:<br>
	<div id = "chosen"> Nobody selected.  </div>
		<h3> Users </h3>
		{% for user in user_list %}
			<input id = "user" type = "button" value = {{user.username}}>
		{% endfor %}		
	</div>
</div>

<script>
	const list = document.querySelectorAll('#user');
	list.forEach(function(userButton) {
		userButton.onclick = function(e) {
			document.querySelector('#chosen').innerHTML= e.target.value;
		}
	})
</script>

{% endblock %}
